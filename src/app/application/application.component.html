<ng-container *ngIf="{
  M: Medium$ | async,
  L: Large$ | async,
  XL: XtraLarge$ | async
} as BK">

  <div [class]='{
  container: true,
  M: BK.M!.matches,
  L: BK.L!.matches,
  XL: BK.XL!.matches
}'>

    <!-- SIDE BAR  -->

    <section id='sidenav' [@sidenav]='state' #sidenav>

      <article class='logo' [@classLogo]='state'>
        <img [src]="state == 'expend' ? 'assets/img/jobleLogoBlanc.svg' : 'assets/img/jobleLogoNomBlanc.svg'" alt="logo"
          [@logo]='state'>
      </article>

      <div>
        <article class='flex-row just-end'>
          <hr>
        </article>
        <section class='line loin first' routerLink="/home" [@classLogo]='state'>
          <h5 *ngIf="state == 'expend'">{{'home' | translate }}</h5>
          <mat-icon>{{icon.home}}</mat-icon>
        </section>

        <section class='loin' routerLink="/app/dashboard" routerLinkActive="active" [@classLogo]='state'>
          <h5 *ngIf="state == 'expend'">{{'dashboard' | translate }}</h5>
          <mat-icon>{{icon.dashboard}}</mat-icon>
        </section>

        <ng-container *ngIf="version > 1">
          <article class='flex-row just-end'>
            <hr>
          </article>
          <section class='line first' [@classLogo]='state'>
            <h5 *ngIf="state == 'expend'">{{'fichiers' | translate}}</h5>
            <mat-icon>{{ icon.file}}</mat-icon>
          </section>

          <section [@classLogo]='state'>
            <h5 *ngIf="state == 'expend'">Blog</h5>
            <mat-icon>{{ icon.blog}}</mat-icon>
          </section>

          <section [@classLogo]='state'>
            <h5 *ngIf="state == 'expend'">{{'stats' | translate}}</h5>
            <mat-icon>{{ icon.stats}}</mat-icon>
          </section>

          <section [@classLogo]='state'>
            <h5 *ngIf="state == 'expend'">{{'agenda' | translate}}</h5>
            <mat-icon>{{ icon.agenda}}</mat-icon>
          </section>

          <section [@classLogo]='state'>
            <h5 *ngIf="state == 'expend'">{{'share' | translate}}</h5>
            <mat-icon>{{ icon.share}}</mat-icon>
          </section>
        </ng-container>

      </div>

      <!-- VERSION -->
      <div id='version'>
        <section [@classLogo]='state'>
          <h6>{{ state === 'expend' ? ('version' | translate ) + ' : ' + version + '.' + correctif : version}}</h6>
        </section>
      </div>
    </section>



    <section class="flex-fill">

      <!-- TOOL BAR -->

      <mat-toolbar color="basic">

        <!-- PAGE NAME -->

        <section>
          <article>
            <mat-icon (click)='state == "retract" ? state = "expend" : state = "retract"' #toggle>{{icon.menu}}
            </mat-icon>
            <h5>{{ route |translate | uppercase}}</h5>
          </article>
        </section>

        <!-- LINKS -->

        <section>
          <article>
            <mat-icon>{{icon.earth}}</mat-icon>

            <mat-form-field appearance="legacy">
              <mat-select #langSelect (valueChange)="changeLang(langSelect.value)" [(value)]='selectedLanguage'>
                <mat-option [value]="option.value" *ngFor="let option of language">{{ option.value }}</mat-option>
              </mat-select>
            </mat-form-field>

          </article>

          <article>
            <mat-icon>{{icon.notif}}</mat-icon>
          </article>

          <article *ngIf="user$ |async as user" (click)='openLogoutDialog()'>
            <mat-icon>{{icon.person}}</mat-icon>
            <p>{{user.displayName ? (user.displayName | titlecase) : user.firstName|titlecase}}</p>
          </article>

          <article>
            <mat-icon routerLink="/app/settings">{{icon.setting}}</mat-icon>
          </article>
        </section>

      </mat-toolbar>

      <!-- TABLE - DETAILS - CHARTS - CALENDAR - CV -->

      <router-outlet></router-outlet>
    </section>

  </div>
</ng-container>
